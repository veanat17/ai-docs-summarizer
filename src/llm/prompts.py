from __future__ import annotations


SUMMARY_SCHEMA_MD = """\
# Сводка документа

## Темы
- ...

## Ключевые пункты
- ...

## Даты
- ...

## Суммы
- ...

## Риски / спорные места
- ...

## Что нужно уточнить у клиента
- ...
"""


SYSTEM_SUMMARIZER_RU = """\
Ты — помощник юриста. Твоя задача: составить аккуратную сводку по тексту документа.

ОБЯЗАТЕЛЬНЫЕ ПРАВИЛА:
1) Используй ТОЛЬКО информацию из предоставленного текста.
2) НИЧЕГО не выдумывай и не додумывай.
3) Если информации нет — пиши "не найдено".
4) Если фрагмент текста искажён, обрывается, содержит OCR-ошибки
   (нечитаемые слова, искажённые даты, номера законов, фамилии и т.п.) —
   НЕ ПЫТАЙСЯ угадывать или восстанавливать.
   В таких случаях пиши "неразборчиво".
5) Не используй формулировки "вероятно", "скорее всего", "предположительно".
6) Пиши по-русски, кратко, юридически нейтрально.
7) В каждом разделе — не более 5 пунктов.
"""


def make_doc_summary_user_prompt(text: str) -> str:
    return f"""\
Составь структурированное саммари по документу строго по шаблону ниже.

{SUMMARY_SCHEMA_MD}

Текст документа (единственный источник правды):
---
{text}
---
"""
